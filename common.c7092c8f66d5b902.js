"use strict";(self.webpackChunkrickAndMortiAPI=self.webpackChunkrickAndMortiAPI||[]).push([[592],{8717:(g,u,e)=>{e.d(u,{u:()=>v});var o=e(5767),l=e(9300),_=e(5698),t=e(1223),c=e(3938),i=e(9808);const s=function(a){return["/characters-details",a]};function m(a,h){if(1&a&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"a",7),t._UZ(4,"img",8),t.qZA()(),t.TgZ(5,"div",9)(6,"div",10)(7,"a",7)(8,"h2"),t._uU(9),t.ALo(10,"slice"),t.qZA()(),t.TgZ(11,"h4",11),t._uU(12),t.qZA(),t.TgZ(13,"small",12),t._uU(14),t.ALo(15,"date"),t.qZA()()()()()),2&a){const r=h.$implicit;t.xp6(3),t.Q6J("routerLink",t.VKq(13,s,r.id)),t.xp6(1),t.Q6J("src",r.image,t.LSH)("alt",r.name),t.xp6(3),t.Q6J("routerLink",t.VKq(15,s,r.id)),t.xp6(2),t.Oqu(t.Dn7(10,7,r.name,0,15)),t.xp6(3),t.Oqu(r.gender),t.xp6(2),t.Oqu(t.lcZ(15,11,r.created))}}function d(a,h){1&a&&(t.TgZ(0,"div",13)(1,"p"),t._uU(2,"No encontramos resultados..."),t.qZA()())}let v=(()=>{class a{constructor(r,n,p){this.characterService=r,this.route=n,this.router=p,this.characters=[],this.pageNum=1,this.hideScrollHeight=200,this.showScrollHeight=500,this.info={next:null},this.onChangeUrl()}ngOnInit(){this.getCharacters()}onChangeUrl(){this.router.events.pipe((0,l.h)(r=>r instanceof o.m2)).subscribe(()=>{this.characters=[],this.pageNum=1,this.getCharacters()})}getCharacters(){this.route.queryParams.pipe((0,_.q)(1)).subscribe(r=>{this.query=r.q,this.getDataFromService()})}getDataFromService(){this.characterService.searchCharacters(this.query,this.pageNum).pipe((0,_.q)(1)).subscribe(r=>{var n;if(null===(n=null==r?void 0:r.results)||void 0===n?void 0:n.length){console.log("Esta es tu respuesta ->",r);const{info:p,results:C}=r;this.characters=[...this.characters,...C],console.log("Estos son los personajes:",this.characters),this.info=p}else this.characters=[]})}}return a.\u0275fac=function(r){return new(r||a)(t.Y36(c.A),t.Y36(o.gz),t.Y36(o.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-character-list"]],decls:5,vars:2,consts:[[1,"row"],["class","col-xs-12 col-sm-6 col-md-4",4,"ngFor","ngForOf"],["class","col-xs-12 col-sm-12 col-md-12 mt-5 container-notFound",4,"ngIf"],[1,"btn","btn-dark"],[1,"col-xs-12","col-sm-6","col-md-4"],[1,"card"],[1,"image"],[3,"routerLink"],[1,"card-img-top",3,"src","alt"],[1,"card-inner"],[1,"header"],[1,"text-mute"],[1,"text-muted"],[1,"col-xs-12","col-sm-12","col-md-12","mt-5","container-notFound"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0),t.YNc(1,m,16,17,"div",1),t.YNc(2,d,3,0,"div",2),t.qZA(),t.TgZ(3,"button",3),t._uU(4,"Go UP"),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngForOf",n.characters),t.xp6(1),t.Q6J("ngIf",n.characters.length<=0))},directives:[i.sg,o.yS,i.O5],pipes:[i.OU,i.uU],styles:[""]}),a})()},3938:(g,u,e)=>{e.d(u,{A:()=>t});var o=e(2340),l=e(1223),_=e(520);let t=(()=>{class c{constructor(s){this.http=s}searchCharacters(s="",m=400){return this.http.get(`${o.N.baseUrlApi}/?name=${s}&page=${m}`)}getDetails(s){return this.http.get(`${o.N.baseUrlApi}/${s}`)}}return c.\u0275fac=function(s){return new(s||c)(l.LFG(_.eN))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);